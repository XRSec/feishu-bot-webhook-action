name: 'Feishu Bot Webhook Action'
description: '发送消息到飞书机器人的 GitHub Action'
author: 'XRSec'

inputs:
  FEISHU_BOT_WEBHOOK:
    description: '飞书机器人的 webhook URL'
    required: true
  FEISHU_BOT_SIGNKEY:
    description: '飞书机器人的签名密钥（可选）'
    required: false
  TXT_MSG:
    description: '要发送的文本消息。如果不为空，将直接发送文本消息；否则发送 GitHub 事件模板消息'
    required: false
  MSG_TEXT:
    description: '要发送的 Markdown 富文本内容。如果设置，则发送 Markdown 卡片，可配合 MD_* 选项调整样式'
    required: false
  MD_TEXT_SIZE:
    description: 'Markdown 文本大小，normal 或 heading'
    required: false
  MD_TEXT_ALIGN:
    description: 'Markdown 文本对齐方式，left/center/right'
    required: false
  MD_ICON_JSON:
    description: 'Markdown icon 配置，JSON 字符串，例如 {"tag":"standard_icon","token":"chat-forbidden_outlined","color":"orange"}'
    required: false
  MD_HREF_JSON:
    description: 'Markdown href 配置，JSON 字符串，对应飞书 href 定义'
    required: false
  DRY_RUN:
    description: '仅打印将要发送的消息而不实际发送（true/1）'
    required: false

runs:
  using: 'node20'
  main: 'dist/index.js'

branding:
  icon: 'message-circle'
  color: 'blue'
